---
openapi: 3.0.1
info:
  title: ReturnZone
  description: ReturnZone - 분실물 반환 중개 서비스
  version: 1.0.0
servers:
- url: http://15.164.234.32
  description: 배포 서버
- url: http://localhost:8080
  description: 로컬 개발 서버
tags:
- name: 회원 API
  description: 회원가입, 로그인 등 회원 관련 API
- name: 인증 API
  description: 카카오 로그인 등 인증 관련 API
paths:
  "/api/v1/members/signup":
    post:
      tags:
      - 회원 API
      summary: 회원가입
      description: 회원가입을 진행합니다. (비밀번호는 최소 8자 이상이어야 합니다.)
      operationId: signup
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/SignupRequestDto"
        required: true
      responses:
        '201':
          description: 회원가입 성공
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/SignupResponseDto"
  "/api/v1/members/login":
    post:
      tags:
      - 회원 API
      summary: 로그인
      description: 이메일과 비밀번호로 로그인합니다.
      operationId: login
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/LoginRequestDto"
        required: true
      responses:
        '200':
          description: OK
          content:
            "*/*":
              schema:
                "$ref": "#/components/schemas/LoginResponseDto"
  "/auth/login/kakao":
    get:
      tags:
      - 인증 API
      summary: 카카오 로그인 콜백
      description: 카카오 인가 코드를 받아 로그인/회원가입을 처리합니다.
      operationId: kakaoLogin
      parameters:
      - name: code
        in: query
        required: true
        schema:
          type: string
      responses:
        '200':
          description: OK
          content:
            "*/*":
              schema:
                "$ref": "#/components/schemas/KakaoResponseLoginResponseDto"
components:
  schemas:
    SignupResponseDto:
      type: object
      properties:
        email:
          type: string
          description: 회원가입된 이메일
          example: gildong@gmail.com
        username:
          type: string
          description: 회원가입된 이름
          example: 홍길동
      description: 회원가입 응답 DTO
    SignupRequestDto:
      required:
      - email
      - password
      - username
      type: object
      properties:
        username:
          type: string
          description: 사용자의 이름
          example: 홍길동
        email:
          type: string
          description: 사용자의 이메일 주소
          example: gildong@gmail.com
        password:
          maxLength: 2147483647
          minLength: 8
          type: string
          description: 사용자의 비밀번호 (최소 8자 이상)
          example: password123
      description: 회원가입 요청 DTO
    LoginRequestDto:
      required:
      - email
      - password
      type: object
      properties:
        email:
          type: string
          description: 사용자의 이메일 주소
          example: gildong@gmail.com
        password:
          type: string
          description: 사용자의 비밀번호
          example: password123
      description: 로그인 요청 DTO
    LoginResponseDto:
      type: object
      properties:
        email:
          type: string
          description: 로그인된 이메일
          example: gildong@gmail.com
        username:
          type: string
          description: 로그인된 이름
          example: 홍길동
        imageUrl:
          type: string
          description: 로그인된 프로필 이미지 URL
          example: http://example.com/profile.jpg
      description: 로그인 응답 DTO
    KakaoResponseLoginResponseDto:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        data:
          "$ref": "#/components/schemas/LoginResponseDto"
